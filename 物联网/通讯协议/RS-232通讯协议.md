# RS-232通讯协议

@(物联网)

[toc]

> 那有什么天生如此，只是我们天天坚持。

## 简介
RS-232是美国电子工业协会EIA（ElectronicIndustry Association）制定的一种**串行物理接口标准**。RS是英文“推荐标准”的缩写，232为标识号通常。RS-232 接口**以9个引脚** (DB-9) 或**是25个引脚**(DB-25) 的型态出现，一般个人计算机上会有两组RS-232 接口，分别称为 COM1 和 COM2 。

## RS-232接口

![clipboard.png](https://sfault-image.b0.upaiyun.com/380/834/3808347370-5a1a6215d1194)

RS-232标准设**有25条信号线和9条信号线两种**，包括一个主通道和一个辅助通道。在多数情况下主要使用主通道，对于一般双工通信，仅需几条信号线就可实现，如一条发送线、一条接收线及一条地线。

### 传输速率

RS-232标准规定的数据传输速率为50、75、100、150、300、600、1200、2400、4800、9600、19200波特率。

### 远程通信连接数据终端
RS-232标准最初是**远程通信连接数据终端设备（DTE）数据通信设备（DCE）而制定的**。因此这个标准的制定，并未考虑计算机系统的应用要求。但目前它又广泛地被借来用于计算机（更准确的说，是计算机接口）与终端或外设之间的近端连接标准。
显然，这个标准的有些规定及和计算机系统是不一致的，甚至是相矛盾的。有了对这种背景的了解，我们对RS-232C标准与计算机不兼容的地方就不难理解了。

### “发送”和“接收”
   RS-232标准中所提到的“发送”和“接收”，**都是站在DTE立场上，而不是站在DCE的立场来定义的**。由于在计算机系统中，往往是CPU和I/O设备之间传送信息，两者都是DTE，因此双方都能发送和接收。

>RS-232C标准规定，只允许DTE设备与DCE设备相连，而不允许同类设备直接相连，这包括两个DTE相连或两个DCE设备相连。为什么不能直接相连呢？
问题的关键在于连接导线上。使用普通接法的通信线直接连接同类设备，会损坏端口。实际上，只要改变连接导线的接线方式，两个DTE设备是可以连接的，那么识别所使用的设备是DTE设备还是DCE设备就很重要了。
通常可以按照如下的步骤来判断设备的类型。
●在设备通电的情况下，使用万用表测量接口引脚2与5脚之间及3与5脚之间的直流电压。万用表黑表笔应接5脚。
●如果2脚电压低于-3V，那么该设备应该是DTE设备。否则，该脚电压应接近0V。
●如果3脚电压低于-3V，那么该设备应该是DCE设备。
●如果2脚和3脚电压都高于-3V或为其他值，那么有两种可能性。
一种情况是测量方法不正确，应重新检查再测量；另一种情况是该接口不是EIA RS-232C型接口或已经损坏。

### 电气特性
EIA-RS-232 对电器特性、逻辑电平和各种信号线功能都作了规定。
在TxD和RxD上：
     　逻辑1(MARK)=-3V～-15V
     　逻辑0(SPACE)=+3～+15V
     　
在RTS、CTS、DSR、DTR和DCD等控制线上：
信号有效（接通，ON状态，正电压）＝+3V～+15V
信号无效（断开，OFF状态，负电压)=-3V～-15V

RS-232接口定义（9芯）

![clipboard.png](https://sfault-image.b0.upaiyun.com/393/433/3934334510-5a1a633388312)


RS-232接口定义(25芯)
1频蔽地线                 
2 发送数据 TXD         
3接收数据 RXD         
4 请求发送RTS
5允许发送 CTS        
6 数据准备好 DSR
7信号地 SG          
8 载波检测 DCD
9 发送返回(+)          
10 未定义
11 数据发送(-)       
12~17 未定义
18 数据接收(+)       
19 未定义
20 数据终端准备好 DTR  
21 未定义
22 振铃 RI            
23~24 未定义
25 接收返回(-) 

### RS-232串口通信接线方法（三线制）

串口传输数据只要有接收数据针脚和发送针脚就能实现：同一个串口的接收脚和发送脚直接用线相连，两个串口相连或一个串口和多个串口相连。接收数据针脚（或线）与发送数据针脚（或线）相连，彼此交叉，信号地对应相接。

9针D型串口：2“RXD”，3“TXD”，5“逻辑地”。

![clipboard.png](https://sfault-image.b0.upaiyun.com/180/293/1802933363-5a1a637057a9a)

25针串口通信接线方法

![clipboard.png](https://sfault-image.b0.upaiyun.com/762/855/762855489-5a1a63863c217)




### RS-232缺点 ：


1. 接口的信号电平值较高，易损坏接口电路的芯片，又因为与TTL电平不兼容故需使用电平转换电路方能与TTL电路连接。
2. 传输速率较低，在异步传输时，波特率≤20Kbps。
3. 接口使用一根信号线和一根信号返回线而构成共地的传输形式，这种共地传输容易产生共模干扰，所以抗噪声干扰性弱。
4. 传输距离有限，**最大传输距离标准值为50英尺（实际≤15米）**。

